**High‑Level Summary of the *academy‑app‑backend* Repository** | Area | What It Does | Key Files / Directories | |------|--------------|--------------------------| | **Purpose** | A RESTful backend written in Go that manages an academic institution’s operations (executives, teachers, students, authentication, etc.). | README.MD – brief project description | | **Project Structure** | The repo follows a conventional Go layout with separate layers for models, repository (SQL), API handlers, routing, and utilities. | internal/, pkg/, cmd/ | | **Entry Point** | cmd/api/server.go – starts an HTTPS server, loads environment variables from an embedded .env, and wires all middle‑wares and routers. | | **Models** | Defines three core entities: Exec, Student, and Teacher. Each struct includes JSON and DB tags for easy marshaling and SQL generation. | internal/models/exec.go, student.go, teacher.go | | **Database Layer** | Simple MySQL driver‑based connectivity with helper functions to generate INSERT queries and extract struct values. | internal/repository/sqlconnect/sqlconfig.go, utils/database_utils.go | | **API Handlers** | CRUD endpoints for execs, teachers, and students, plus auth‑related routes (login, logout, password reset). | internal/api/handlers/ (e.g., execs.go, students.go, teachers.go) | | **Routing** | Hierarchical ServeMux routers that nest exec → teacher → student routers. | internal/api/router/ | | **Middleware Stack** (applied in server.go via utils.ApplyMiddlewares):<br>• **SecurityHeader** – sets a comprehensive set of security response headers.<br>• **Compression** – gzip compresses responses when the client supports it.<br>• **Hpp** – HTTP Parameter Pollution protection with a whitelist.<br>• **XSSMiddlware** – (not shown in the excerpt but referenced) sanitizes input.<br>• **JWTMiddleware** – validates JWTs stored in a Bearer cookie and injects role/username into the request context.<br>• **ResponseTimeMiddleware** – adds X‑Response‑Time header and logs request timing.<br>• **RateLimiter** – caps requests per IP (default 5 per minute).<br>• **Cors** – enforces allowed origins and CORS headers. | internal/api/middlewares/ | | **Utilities** | Helper packages for:<br>• JWT creation (utils/jwt.go).<br>• Password hashing/verification with Argon2 (utils/password.go).<br>• Context‑based authorization (utils/authorize_user.go).<br>• Pagination (utils/pagination.go).<br>• Centralized error logging (utils/error_handler.go). | pkg/utils/ | | **Configuration** | Environment variables (loaded from embedded .env):<br>• DB credentials (DB_USER, DB_PASSWORD, etc.)<br>• TLS cert/key paths (CERT_FILE, KEY_FILE)<br>• JWT secret and expiry (JWT_SECRET, JWT_EXPIRES_IN). | .env (embedded), cmd/api/cert.pem, cmd/api/key.pem | | **Static Data** | Sample seed data for execs, teachers, and students in JSON files. | execsdata.json, studentsdata.json, teachersdata.json | | **Compiled Binaries** | Pre‑built executables for Linux, macOS, and Windows (TLS‑enabled/disabled, with/without middleware). They are referenced via URLs for binary distribution. | cmd/api/binaries/ (files are links to raw GitHub content) | | **Dependencies** | MySQL driver, JWT library, dotenv loader, Argon2, and several security‑related Go packages (e.g., bluemonday). | go.mod, go.sum | | **Notable Security Features** | • Strict TLS configuration (tls.VersionTLS10 minimum).<br>• Comprehensive security headers.<br>• HPP, rate limiting, CORS, XSS sanitization, and password hashing with Argon2.<br>• JWT validation with explicit error handling for expired/malformed tokens. | | **Potential Gaps / TODOs** | • The repository states “Work in progress” in the README, suggesting incomplete documentation or features.<br>• Some middleware (e.g., XSSMiddlware) is referenced but its source isn’t shown in the excerpt.<br>• No explicit migration scripts for the MySQL schema; the DB schema must be created manually or via external tooling. | | **How to Run** | 1. Set required environment variables (DB connection, TLS cert/key, JWT secret).<br>2. Build the server (go build ./cmd/api).<br>3. Run the binary (or use one of the pre‑compiled releases) – it starts an HTTPS server listening on API_PORT. | cmd/api/server.go | --- **Bottom Line:** The repository provides a fairly complete Go‑based backend for an academy management system, with clear separation of concerns, solid security middleware, JWT‑based authentication, and CRUD operations for the main domain entities. It also ships pre‑compiled binaries for multiple platforms, making deployment straightforward once the environment variables and TLS certificates are in place.